

<div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
  <h2>User info</h2>

  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h3>
      <%= @user.errors.count %>
      <% if @user.errors.count  >= 2 %>
        errors
      <% else %>
        error
      <% end %>
      prohibited this obj from being saved:
      </h3>
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with model: @user, url: user_path(current_user.id), method: :patch do |f| %>
    <div class="form-group">
      <%= f.label :name, "Name" %>
      <%= f.text_field :name, class:"form-control name" %>
    </div>
    <div class="form-group">
      <%= f.label :image, "Image" %>
      <%= f.file_field :profile_image, class:"form-control-file user_image", accept: "image/*" %>
    </div>
    <div class="form-group">
      <%= f.label :introduction, "Introduction" %>
      <%= f.text_area :introduction, class:"form-control introduction" %>
    </div>
    <div class="form-group">
      <%= f.submit 'Update User', class:"btn btn-secondary" %>
    </div>
  <% end %>

  <!--
  <form enctype="multipart/form-data" action="/users/48505" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="patch" autocomplete="off" /><input type="hidden" name="authenticity_token" value="8QZhtze15XY8IYokzFn2R6vOq-IHc1LcofMaItCyjQoQVq3wNmTizCF9WA884FCKOBPcg7GGFrBkVnSz9Vvnfg" autocomplete="off" />
    <div class="form-group">
      <label for="user_name">Name</label>
      <input class="form-control name" type="text" value="bob" name="user[name]" id="user_name" />
    </div>
    <div class="form-group">
      <label for="user_image">Image</label>
      <input class="form-control-file user_image" accept="image/*" type="file" name="user[profile_image]" id="user_profile_image" />
    </div>
    <div class="form-group">
      <label for="user_introduction">Introduction</label>
      <textarea class="form-control introduction" name="user[introduction]" id="user_introduction">
      </textarea>
    </div>
    <div class="form-group">
      <input type="submit" name="commit" value="Update User" class="btn btn-secondary" data-disable-with="Update User" />
      </div>
  </form>
